/*
 *  Bootstrap Swapbox - v0.0.1
 *  An alternative to the HTML select-box.
 *  https://github.com/joshuairl/jquery-bootstrap-swapbox
 *
 *  Made by Joshua F. Rountree
 *  Under MIT License
 */
(function(){!function(a){var b,c,d;return d="swapbox",c={wrapCssClass:"swapbox-wrapper btn-group",triggerCssClass:"swapbox-toggle btn btn-default dropdown-toggle",itemCssClass:"swapbox-item",listCssClass:"swapbox-list dropdown-menu",itemPrepend:"<span>",itemAppend:"</span>"},b=function(){function b(b,e){this.element=b,this.options=a.extend({},c,e),this._defaults=c,this._name=d,this.init()}return b.prototype.init=function(){return this.retrieveItems(),this.build()},b.prototype.build=function(){return this.buildWrap(),this.buildList(),this.buildItems(),this.buildTrigger()},b.prototype.buildWrap=function(){this.$wrap=a("<div></div>"),this.$wrap.addClass(this.options.wrapCssClass),this.$wrap.insertAfter(a(this.element))},b.prototype.buildList=function(){this.$list=a("<ul></ul>"),this.$list.attr("role","menu"),this.$list.addClass(this.options.listCssClass),this.$list.appendTo(this.$wrap)},b.prototype.buildItems=function(){var b,c;c=this,b=a(this.element),a.each(this.original_items,function(b,d){var e,f,g;return g="",f="",g="function"===a.type(c.options.itemPrepend)?c.options.itemPrepend(d):c.options.itemPrepend,f="function"===a.type(c.options.itemAppend)?c.options.itemAppend(d):c.options.itemAppend,e=a("<li><a href='#'>"+g+d.label+f+"</a></li>"),e.attr("data-value",d.value),e.on("click",function(a){c.selectOption(d),a.preventDefault()}),e.appendTo(c.$list)})},b.prototype.selectOption=function(b){var c;c=a(this.element),this.$trigger.html(this.$list.find("[data-value='"+b.value+"'] > a").html()),this.removeItem(b.value),c.val(b.value)},b.prototype.removeItem=function(a){this.$list.children().removeClass("hide").end(),this.$list.find("[data-value='"+a+"']").addClass("hide")},b.prototype.buildTrigger=function(){var b,c,d;this.$trigger=c=a("<button></button>"),c.addClass(this.options.triggerCssClass),c.attr("data-toggle","dropdown"),b=a(this.element).children().filter(":selected"),d=this.splitOption(b),this.selectOption(d),c.prependTo(this.$wrap),a(this.element).hide()},b.prototype.splitOption=function(a){var b;return b={label:a.text()||"",value:a.attr("value")||a.text()||"",$option:a}},b.prototype.retrieveItems=function(){var b,c;c=this,this.original_items=[],b=this.selected_item_value="",a(this.element).find("option").each(function(){var d,e;return d=a(this),e=c.splitOption(d),d.prop("selected")&&(b=e.value),c.original_items.push(e)})},b}(),a.fn[d]=function(c){return this.each(function(){return a.data(this,"plugin_"+d)?void 0:a.data(this,"plugin_"+d,new b(this,c))})}}(jQuery)}).call(this);
